[home](/home) | [release notes](/docs/releasenotes)

#  Release notes

***29 Sept 2017*** - v2.1 released

### Description of change

The `/bankaccount` API, as a part of the product demonstration evaluation criteria, was intended to replicate legacy API's that are used within the British Library, and to simulate similar functional requirements and behaviours. In order to ensure that the vendor submissions can support this style of interface the `/bankaccount` API for v1 and v2 have been changed to and the JSON endpoints have been withdrawn.

### Detailed change log

- Updates to `/api/v1` and `/api/v2` to remove JSON responses from the `/bankaccount` service. See [v2.1 release notes](/docs/releasenotes/v2.1)
  - `/api/v1/bankaccount/200415.json` removed. Future access will result in `404 Not Found` responses.
  - `/api/v1/bankaccount/200415/38290008.json` removed. Future access will result in `404 Not Found` responses.
  - `/api/v2/bankaccount/200415.json` removed. Future access will result in `404 Not Found` responses.
  - `/api/v2/bankaccount/200415/38290008.json` removed. Future access will result in `404 Not Found` responses.
- Update to `/api/v2` of `/bankaccount` to return a of `content-type text/xml` to better replicate an internal live legacy system's behaviour 
- `/catalogue` - no changes
- `/identity` - no changes
- `make test` improved to cover HTTP response codes and Content-Type tests

**The API endpoints have not been changed.  No other changes have been made to the other API's**

### Test Results

```
$ make test
>>> Test: test-api-v1
Passed - localhost:8000/api - HTTP/1.1 200 OK
Passed - localhost:8000/api/v1 - HTTP/1.1 200 OK
Passed - localhost:8000/api/v1 - Content-Type: text/xml
>>> Complete: test-api-v1
>>> Test: test-bankaccount-v1
Passed - localhost:8000/api/v1/bankaccount - HTTP/1.1 200 OK
Passed - localhost:8000/api/v1/bankaccount/200415 - HTTP/1.1 200 OK
Passed - localhost:8000/api/v1/bankaccount/200415.xml - HTTP/1.1 200 OK
Passed - localhost:8000/api/v1/bankaccount/200415.json - HTTP/1.1 404 Not Found
Passed - localhost:8000/api/v1/bankaccount/200416 - HTTP/1.1 404 Not Found
Passed - localhost:8000/api/v1/bankaccount/200415/38290008 - HTTP/1.1 200 OK
Passed - localhost:8000/api/v1/bankaccount/200415/38290008.xml - HTTP/1.1 200 OK
Passed - localhost:8000/api/v1/bankaccount/200415/38290008.json - HTTP/1.1 404 Not Found
Passed - localhost:8000/api/v1/bankaccount/200415/38290009 - HTTP/1.1 404 Not Found
>>> Complete: test-bankaccount-v1
>>> Test: test-bankaccount-v1-content-type
Passed - localhost:8000/api/v1/bankaccount - Content-Type: text/xml
Passed - localhost:8000/api/v1/bankaccount/200415 - Content-Type: text/xml
Passed - localhost:8000/api/v1/bankaccount/200415.xml - Content-Type: text/xml
Passed - localhost:8000/api/v1/bankaccount/200415.json - Content-Type: text/html
Passed - localhost:8000/api/v1/bankaccount/200416 - Content-Type: text/html
Passed - localhost:8000/api/v1/bankaccount/200415/38290008 - Content-Type: text/xml
Passed - localhost:8000/api/v1/bankaccount/200415/38290008.xml - Content-Type: text/xml
Passed - localhost:8000/api/v1/bankaccount/200415/38290008.json - Content-Type: text/html
Passed - localhost:8000/api/v1/bankaccount/200415/38290009 - Content-Type: text/html
>>> Complete: test-bankaccount-v1-content-type
>>> Test: test-identity-v1
Passed - localhost:8000/api/v1/identity - HTTP/1.1 200 OK
Passed - localhost:8000/api/v1/identity/baduser - HTTP/1.1 404 Not Found
Passed - localhost:8000/api/v1/identity/newuser/secret1234 - HTTP/1.1 201 Created
Passed - localhost:8000/api/v1/identity/newuser - HTTP/1.1 200 OK
Passed - localhost:8000/api/v1/identity/newuser/secret1234 - HTTP/1.1 200 OK
Passed - localhost:8000/api/v1/identity/newuser/wrong - HTTP/1.1 404 Not Found
>>> Complete: test-identity-v1
>>> Test: test-catalogue-v1
Passed - localhost:8000/api/v1/catalogue - HTTP/1.1 200 OK
Passed - localhost:8000/api/v1/catalogue/isbn - HTTP/1.1 404 Not Found
Passed - localhost:8000/api/v1/catalogue/isbn/ - HTTP/1.1 404 Not Found
Passed - localhost:8000/api/v1/catalogue/isbn/12345678 - HTTP/1.1 404 Not Found
Passed - localhost:8000/api/v1/catalogue/isbn/9780224063784 - HTTP/1.1 200 OK
Passed - localhost:8000/api/v1/catalogue/isbn/ABCDEFG - HTTP/1.1 400 Bad Request
>>> Complete: test-catalogue-v1
>>> Test test-v1 complete
>>> Test: test-api-v2
Passed - localhost:8000/api/v2 - HTTP/1.1 200 OK
Passed - localhost:8000/api/v2 - Content-Type: text/xml
>>> Complete: test-api-v2
>>> Test: test-bankaccount-v2
Passed - localhost:8000/api/v2/bankaccount - HTTP/1.1 200 OK
Passed - localhost:8000/api/v2/bankaccount/200415 - HTTP/1.1 200 OK
Passed - localhost:8000/api/v2/bankaccount/200415.xml - HTTP/1.1 200 OK
Passed - localhost:8000/api/v2/bankaccount/200415.json - HTTP/1.1 404 Not Found
Passed - localhost:8000/api/v2/bankaccount/200416 - HTTP/1.1 404 Not Found
Passed - localhost:8000/api/v2/bankaccount/200415/38290008 - HTTP/1.1 200 OK
Passed - localhost:8000/api/v2/bankaccount/200415/38290008.xml - HTTP/1.1 200 OK
Passed - localhost:8000/api/v2/bankaccount/200415/38290008.json - HTTP/1.1 404 Not Found
Passed - localhost:8000/api/v2/bankaccount/200415/38290009 - HTTP/1.1 404 Not Found
>>> Complete: test-bankaccount-v2
>>> Test: test-bankaccount-v2-content-type
Passed - localhost:8000/api/v2/bankaccount - Content-Type: text/xml
Passed - localhost:8000/api/v2/bankaccount/200415 - Content-Type: text/xml
Passed - localhost:8000/api/v2/bankaccount/200415.xml - Content-Type: text/xml
Passed - localhost:8000/api/v2/bankaccount/200415.json - Content-Type: text/html
Passed - localhost:8000/api/v2/bankaccount/200416 - Content-Type: text/html
Passed - localhost:8000/api/v2/bankaccount/200415/38290008 - Content-Type: text/xml
Passed - localhost:8000/api/v2/bankaccount/200415/38290008.xml - Content-Type: text/xml
Passed - localhost:8000/api/v2/bankaccount/200415/38290008.json - Content-Type: text/html
Passed - localhost:8000/api/v2/bankaccount/200415/38290009 - Content-Type: text/html
>>> Complete: test-bankaccount-v2-content-type
>>> Test: test-identity-v2
Passed - localhost:8000/api/v2/identity - HTTP/1.1 200 OK
Passed - localhost:8000/api/v2/identity/baduser - HTTP/1.1 404 Not Found
Passed - localhost:8000/api/v2/identity/newuser/secret1234 - HTTP/1.1 201 Created
Passed - localhost:8000/api/v2/identity/newuser - HTTP/1.1 200 OK
Passed - localhost:8000/api/v2/identity/newuser/secret1234 - HTTP/1.1 200 OK
Passed - localhost:8000/api/v2/identity/newuser/wrong - HTTP/1.1 404 Not Found
>>> Complete: test-identity-v2
>>> Test: test-catalogue-v2
Passed - localhost:8000/api/v2/catalogue - HTTP/1.1 200 OK
Passed - localhost:8000/api/v2/catalogue/isbn - HTTP/1.1 404 Not Found
Passed - localhost:8000/api/v2/catalogue/isbn/ - HTTP/1.1 404 Not Found
Passed - localhost:8000/api/v2/catalogue/isbn/12345678 - HTTP/1.1 404 Not Found
Passed - localhost:8000/api/v2/catalogue/isbn/9780224063784 - HTTP/1.1 200 OK
Passed - localhost:8000/api/v2/catalogue/isbn/ABCDEFG - HTTP/1.1 400 Bad Request
>>> Complete: test-catalogue-v2
>>> Test test-v2 complete
>>> Test test complete
```